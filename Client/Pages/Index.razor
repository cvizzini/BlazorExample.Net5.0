@page "/"

<h1>Hello, world!</h1>

<AuthorizeView>
    <Authorized>
        <h1>Hello, @context.User.Identity.Name!</h1>
        <p>You can only see this content if you're authorized.</p>
    </Authorized>
    <Authorizing>
        <h1>Authentication in progress</h1>
        <p>You can only see this content while authentication is in progress.</p>
    </Authorizing>
    <NotAuthorized>
        <h1>Authentication Failure!</h1>
        <p>You're not signed in.</p>
    </NotAuthorized>
</AuthorizeView>



Welcome to your new app.

<p>
    <a href="/addemployee">Create New</a>
</p>

<button @onclick="LogUsername">Log username</button>

<p>@_authMessage</p>

@code { [CascadingParameter]
            private Task<AuthenticationState> authenticationStateTask { get; set; }

            private string _authMessage;

            private async Task LogUsername()
            {
                var authState = await authenticationStateTask;
                var user = authState.User;

                if (user.Identity.IsAuthenticated)
                {
                    _authMessage = $"{user.Identity.Name} is authenticated.";
                }
                else
                {
                    _authMessage = "The user is NOT authenticated.";
                }
            } }
